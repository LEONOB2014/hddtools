<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title> • hddtools</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">hddtools</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://github.com/openjournals/joss-reviews/issues/56">JOSS paper (under review)</a>
    </li>
    <li>
      <a href="http://adsabs.harvard.edu/abs/2014AGUFM.H13H1209V">Abstract/Poster presented at AGU 2014</a>
    </li>
    <li>
      <a href="../articles/index.html">Vignette</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/hddtools/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1></h1>
                        <h4 class="author">Claudia Vitolo</h4>
            
            <h4 class="date">2017-10-21</h4>
          </div>

    
    
<div class="contents">
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p><strong>hddtools</strong> stands for Hydrological Data Discovery Tools. This R package is an open source project designed to facilitate access to a variety of online open data sources relevant for hydrologists and, in general, environmental scientists and practitioners.</p>
<p>This typically implies the download of a metadata catalogue, selection of information needed, formal request for dataset(s), de-compression, conversion, manual filtering and parsing. All those operation are made more efficient by re-usable functions.</p>
<p>Depending on the data license, functions can provide offline and/or online modes. When redistribution is allowed, for instance, a copy of the dataset is cached within the package and updated twice a year. This is the fastest option and also allows offline use of package’s functions. When re-distribution is not allowed, only online mode is provided.</p>
<div id="dependencies-installation" class="section level2">
<h2 class="hasAnchor">
<a href="#dependencies-installation" class="anchor"></a>Dependencies &amp; Installation</h2>
<p>The hddtools package and the examples in this vignette depend on other CRAN packages. Check for missing dependencies and install them using the commands below:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">packs &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"zoo"</span>, <span class="st">"sp"</span>, <span class="st">"RCurl"</span>, <span class="st">"XML"</span>, <span class="st">"rnrfa"</span>, <span class="st">"Hmisc"</span>, <span class="st">"raster"</span>, 
           <span class="st">"stringr"</span>, <span class="st">"devtools"</span>, <span class="st">"leaflet"</span>)
new_packages &lt;-<span class="st"> </span>packs[<span class="op">!</span>(packs <span class="op">%in%</span><span class="st"> </span><span class="kw">installed.packages</span>()[,<span class="st">"Package"</span>])]
<span class="cf">if</span>(<span class="kw">length</span>(new_packages)) <span class="kw">install.packages</span>(new_packages)</code></pre></div>
<p>Get the released version from CRAN:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"hddtools"</span>)</code></pre></div>
<p>Or the development version from github using <a href="https://github.com/hadley/devtools">devtools</a>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"ropensci/hddtools"</span>)</code></pre></div>
<p>Load the hddtools package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">"hddtools"</span>)</code></pre></div>
</div>
<div id="data-sources-and-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#data-sources-and-functions" class="anchor"></a>Data sources and Functions</h2>
<p>The functions provided can filter, slice and dice 2 and 3 dimensional information.</p>
<div id="the-koppen-climate-classification-map" class="section level3">
<h3 class="hasAnchor">
<a href="#the-koppen-climate-classification-map" class="anchor"></a>The Koppen Climate Classification map</h3>
<p>The Koppen Climate Classification is the most widely used system for classifying the world’s climates. Its categories are based on the annual and monthly averages of temperature and precipitation. It was first updated by Rudolf Geiger in 1961, then by Kottek et al. (2006), Peel et al. (2007) and then by Rubel et al. (2010).</p>
<p>The package hddtools contains a function to identify the updated Koppen-Greiger climate zone, given a bounding box.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Define a bounding box</span>
areaBox &lt;-<span class="st"> </span>raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/extent">extent</a></span>(<span class="op">-</span><span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">48</span>, <span class="dv">62</span>)

<span class="co"># Extract climate zones from Peel's map:</span>
<span class="kw"><a href="../reference/KGClimateClass.html">KGClimateClass</a></span>(<span class="dt">areaBox =</span> areaBox, <span class="dt">updatedBy =</span> <span class="st">"Peel"</span>)
<span class="co">#&gt;   ID Class Frequency</span>
<span class="co">#&gt; 1  9   Csb         1</span>
<span class="co">#&gt; 2 15   Cfb      6199</span>
<span class="co">#&gt; 3 16   Cfc        10</span>
<span class="co">#&gt; 4 27   Dfc         3</span>
<span class="co">#&gt; 5 29    ET         1</span>

<span class="co"># Extract climate zones from Kottek's map:</span>
<span class="kw"><a href="../reference/KGClimateClass.html">KGClimateClass</a></span>(<span class="dt">areaBox =</span> areaBox, <span class="dt">updatedBy =</span> <span class="st">"Kottek"</span>)
<span class="co">#&gt;   ID Class Frequency</span>
<span class="co">#&gt; 1 32   Cfb     12301</span>
<span class="co">#&gt; 2 33   Cfc       507</span></code></pre></div>
</div>
<div id="the-global-runoff-data-centre" class="section level3">
<h3 class="hasAnchor">
<a href="#the-global-runoff-data-centre" class="anchor"></a>The Global Runoff Data Centre</h3>
<p>The Global Runoff Data Centre (GRDC) is an international archive hosted by the Federal Institute of Hydrology in Koblenz, Germany. The Centre operates under the auspices of the World Meteorological Organisation and retains services and datasets for all the major rivers in the world. Catalogue, kml files and the product Long-Term Mean Monthly Discharges are open data and accessible via the hddtools.</p>
<p>Information on all the GRDC stations can be retrieved using the function <code>catalogueGRDC</code> with no input arguments, as in the examle below:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># GRDC full catalogue</span>
GRDC_catalogue_all &lt;-<span class="st"> </span><span class="kw"><a href="../reference/catalogueGRDC.html">catalogueGRDC</a></span>()</code></pre></div>
<p>However, there are a number of options to filter the catalogue and return only the a subset of stations. For instance, we might be interested in subsetting only stations in Italy. As the 8th column in the catalogue lists the country codes, we can filter the catalogue passing two input arguments to the <code>catalogueGRDC</code> function: <code>columnName = "country_code"</code> and <code>columnValue  = "IT"</code>, as in the example below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Filter GRDC catalogue based on a country code</span>
GRDC_catalogue_countrycode &lt;-<span class="st"> </span><span class="kw"><a href="../reference/catalogueGRDC.html">catalogueGRDC</a></span>(<span class="dt">columnName =</span> <span class="st">"country_code"</span>,
                                            <span class="dt">columnValue =</span> <span class="st">"IT"</span>)</code></pre></div>
<p>The arguments <code>columnName</code> and <code>columnValue</code> can be used to filter over other columns. For instance, in the example below we show how to subset stations along the Po River.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Filter GRDC catalogue based on rivername</span>
GRDC_catalogue_river &lt;-<span class="st"> </span><span class="kw"><a href="../reference/catalogueGRDC.html">catalogueGRDC</a></span>(<span class="dt">columnName =</span> <span class="st">"river"</span>, <span class="dt">columnValue =</span> <span class="st">"PO"</span>)</code></pre></div>
<p>Note in the example above that the search is not case sensitive, therefore you get the same result whether the columnValue is spelled “PO”, “Po” or “po”. Same applies for the metadata column (it can be spelled “RIVER”, “river”, “River”…).</p>
<p>If <code>columnName</code> refers to a numeric field, in the <code>columnValue</code> we can specify other terms of comparison. For example we can select all the stations for which daily data is available since 2000.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Filter GRDC catalogue based on numerical value, for instance select all the stations for which daily data is available since 2000</span>
GRDC_catalogue_dstart &lt;-<span class="st"> </span><span class="kw"><a href="../reference/catalogueGRDC.html">catalogueGRDC</a></span>(<span class="dt">columnName =</span> <span class="st">"d_start"</span>, 
                                       <span class="dt">columnValue =</span> <span class="st">"&gt;=2000"</span>)</code></pre></div>
<p>Another option is to filter the catalogue based on a geographical bounding box.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Define a bounding box</span>
areaBox &lt;-<span class="st"> </span>raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/extent">extent</a></span>(<span class="op">-</span><span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">48</span>, <span class="dv">62</span>)

<span class="co"># Filter GRDC catalogue based on a bounding box</span>
GRDC_catalogue_bbox &lt;-<span class="st"> </span><span class="kw"><a href="../reference/catalogueGRDC.html">catalogueGRDC</a></span>(<span class="dt">areaBox =</span> areaBox)</code></pre></div>
<p>The filters can be also combined, as in the examples below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Define a bounding box</span>
areaBox &lt;-<span class="st"> </span>raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/extent">extent</a></span>(<span class="op">-</span><span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">48</span>, <span class="dv">62</span>)

<span class="co"># Filter GRDC catalogue based on a bounding box plus keep only those stations where "statistics" value is 1</span>
GRDC_catalogue_bbox_stats &lt;-<span class="st"> </span><span class="kw"><a href="../reference/catalogueGRDC.html">catalogueGRDC</a></span>(<span class="dt">areaBox =</span> areaBox, 
                                           <span class="dt">columnName =</span> <span class="st">"statistics"</span>,
                                           <span class="dt">columnValue =</span> <span class="dv">1</span>)</code></pre></div>
<p>The filtered stations can be used to create a map.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Visualise outlets on an interactive map</span>
<span class="kw">library</span>(leaflet)
<span class="kw">leaflet</span>(<span class="dt">data =</span> GRDC_catalogue_bbox_stats) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">addTiles</span>() <span class="op">%&gt;%</span><span class="st">  </span><span class="co"># Add default OpenStreetMap map tiles</span>
<span class="st">  </span><span class="kw">addMarkers</span>(<span class="op">~</span>long, <span class="op">~</span>lat, <span class="dt">popup =</span> <span class="op">~</span>station)</code></pre></div>
<div class="figure">
<img src="leaflet.png">
</div>
<p>Lastly, given a station ID number (this is stored in the column grdc_no of the catalogue) we can check whether monthly data is available and eventually plot it.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Monthly data extraction</span>
WolfeToneBridge &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tsGRDC.html">tsGRDC</a></span>(<span class="dt">stationID =</span> <span class="kw"><a href="../reference/catalogueGRDC.html">catalogueGRDC</a></span>()<span class="op">$</span>grdc_no[<span class="dv">7126</span>],
                          <span class="dt">plotOption =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div class="figure">
<img src="tsGRDC.png">
</div>
</div>
<div id="nasas-tropical-rainfall-measuring-mission" class="section level3">
<h3 class="hasAnchor">
<a href="#nasas-tropical-rainfall-measuring-mission" class="anchor"></a>NASA’s Tropical Rainfall Measuring Mission</h3>
<p><strong>IMPORTANT NOTE: The TRMM function has been temporarily removed from hddtools v0.7 as the ftp at NASA containing the data has been migrated. A new function is under development and will be avalable at the next release (v0.8).</strong></p>
<p>The Tropical Rainfall Measuring Mission (TRMM) is a joint mission between NASA and the Japan Aerospace Exploration Agency (JAXA) that uses a research satellite to measure precipitation within the tropics in order to improve our understanding of climate and its variability.</p>
<p>The TRMM satellite records global historical rainfall estimation in a gridded format since 1998 with a daily temporal resolution and a spatial resolution of 0.25 degrees. This information is openly available for educational purposes and downloadable from an FTP server.</p>
<p>The hddtools provides a function, called TRMM(), to download and convert a selected portion of the TRMM dataset into a raster-brick that can be opened in any GIS software.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Define a bounding box</span>
areaBox &lt;-<span class="st"> </span>raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/extent">extent</a></span>(<span class="op">-</span><span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">48</span>, <span class="dv">62</span>)

<span class="co"># Define a temporal extent</span>
twindow &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="kw">as.Date</span>(<span class="st">"2012-01-01"</span>), <span class="kw">as.Date</span>(<span class="st">"2012-03-31"</span>), <span class="dt">by =</span> <span class="st">"months"</span>)

<span class="co"># Retreive mean monthly precipitations from 3B43_V7 (based on a bounding box and time extent)</span>
TRMMfile &lt;-<span class="st"> </span><span class="kw">TRMM</span>(<span class="dt">twindow =</span> twindow, <span class="dt">areaBox =</span> areaBox)

<span class="kw">library</span>(raster)
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/plot">plot</a></span>(TRMMfile)</code></pre></div>
<div class="figure">
<img src="TRMM.png">
</div>
</div>
<div id="top-down-modelling-working-group-data60uk-and-mopex" class="section level3">
<h3 class="hasAnchor">
<a href="#top-down-modelling-working-group-data60uk-and-mopex" class="anchor"></a>Top-Down modelling Working Group (Data60UK and MOPEX)</h3>
<p>The Top-Down modelling Working Group (TDWG) for the Prediction in Ungauged Basins (PUB) Decade (2003-2012) is an initiative of the International Association of Hydrological Sciences (IAHS) which collected datasets for hydrological modelling free-of-charge, available <a href="http://tdwg.catchment.org/datasets.html">here</a>. This package provides a common interface to retrieve, browse and filter information.</p>
<div id="the-data60uk-dataset" class="section level4">
<h4 class="hasAnchor">
<a href="#the-data60uk-dataset" class="anchor"></a>The Data60UK dataset</h4>
<p>The Data60UK initiative collated datasets of areal precipitation and streamflow discharge across 61 gauging sites in England and Wales (UK). The database was prepared from source databases for research purposes, with the intention to make it re-usable. This is now available in the public domain free of charge.</p>
<p>The hddtools contain two functions to interact with this database: one to retreive the catalogue and another to retreive time series of areal precipitation and streamflow discharge.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Data60UK full catalogue</span>
Data60UK_catalogue_all &lt;-<span class="st"> </span><span class="kw"><a href="../reference/catalogueData60UK.html">catalogueData60UK</a></span>()

<span class="co"># Filter Data60UK catalogue based on bounding box</span>
areaBox &lt;-<span class="st"> </span>raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/extent">extent</a></span>(<span class="op">-</span><span class="dv">4</span>, <span class="op">-</span><span class="dv">3</span>, <span class="dv">51</span>, <span class="dv">53</span>)
Data60UK_catalogue_bbox &lt;-<span class="st"> </span><span class="kw"><a href="../reference/catalogueData60UK.html">catalogueData60UK</a></span>(<span class="dt">areaBox =</span> areaBox)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Visualise outlets on an interactive map</span>
<span class="kw">library</span>(leaflet)
<span class="kw">leaflet</span>(<span class="dt">data =</span> Data60UK_catalogue_bbox) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">addTiles</span>() <span class="op">%&gt;%</span><span class="st">  </span><span class="co"># Add default OpenStreetMap map tiles</span>
<span class="st">  </span><span class="kw">addMarkers</span>(<span class="op">~</span>Longitude, <span class="op">~</span>Latitude, <span class="dt">popup =</span> <span class="op">~</span>Location)</code></pre></div>
<div class="figure">
<img src="leaflet2.png">
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Extract time series </span>
stationID &lt;-<span class="st"> </span><span class="kw"><a href="../reference/catalogueData60UK.html">catalogueData60UK</a></span>()<span class="op">$</span>stationID[<span class="dv">1</span>]

<span class="co"># Extract only the time series</span>
MorwickTS &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tsData60UK.html">tsData60UK</a></span>(stationID, <span class="dt">plotOption =</span> <span class="ot">FALSE</span>)
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/plot">plot</a></span>(MorwickTS)

<span class="co"># Extract time series for a specified temporal window</span>
twindow &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="kw">as.Date</span>(<span class="st">"1988-01-01"</span>), <span class="kw">as.Date</span>(<span class="st">"1989-12-31"</span>), <span class="dt">by =</span> <span class="st">"days"</span>)
MorwickTSplot &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tsData60UK.html">tsData60UK</a></span>(<span class="dt">stationID =</span> stationID, 
                            <span class="dt">plotOption =</span> <span class="ot">TRUE</span>,
                            <span class="dt">twindow =</span> twindow)</code></pre></div>
<div class="figure">
<img src="morwick.png">
</div>
</div>
<div id="mopex" class="section level4">
<h4 class="hasAnchor">
<a href="#mopex" class="anchor"></a>MOPEX</h4>
<p>Dataset containing historical hydrometeorological data and river basin characteristics for hundreds of river basins from a range of climates in the US.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># MOPEX full catalogue</span>
MOPEX_catalogue_all &lt;-<span class="st"> </span><span class="kw"><a href="../reference/catalogueMOPEX.html">catalogueMOPEX</a></span>()

<span class="co"># Extract time series </span>
BroadRiver &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tsMOPEX.html">tsMOPEX</a></span>(<span class="dt">stationID =</span> MOPEX_catalogue_all<span class="op">$</span>stationID[<span class="dv">1</span>], 
                      <span class="dt">plotOption =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div class="figure">
<img src="mopex.png">
</div>
</div>
</div>
<div id="sepa-river-level-data" class="section level3">
<h3 class="hasAnchor">
<a href="#sepa-river-level-data" class="anchor"></a>SEPA river level data</h3>
<p>The Scottish Environment Protection Agency (SEPA) manages river level data for hundreds of gauging stations in the UK. The catalogue of stations was derived by an unofficial list (available here: <a href="http://pennine.ddns.me.uk/riverlevels/ConciseList.html" class="uri">http://pennine.ddns.me.uk/riverlevels/ConciseList.html</a>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># SEPA unofficial catalogue</span>
SEPA_catalogue_all &lt;-<span class="st"> </span><span class="kw"><a href="../reference/catalogueSEPA.html">catalogueSEPA</a></span>()</code></pre></div>
<p>The time series of the last few days is available from SEPA website and can be downloaded using the following function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Single time series extraction</span>
Kilphedir &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tsSEPA.html">tsSEPA</a></span>(<span class="dt">stationID =</span> <span class="kw"><a href="../reference/catalogueSEPA.html">catalogueSEPA</a></span>()<span class="op">$</span>stationId[<span class="dv">1</span>], 
                    <span class="dt">plotOption =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div class="figure">
<img src="kilphedir.png">
</div>
<p>Plese note that this data is updated every 15 minutes and the code will always generate different plots.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Multiple time series extraction</span>
y &lt;-<span class="st"> </span><span class="kw"><a href="../reference/tsSEPA.html">tsSEPA</a></span>(<span class="dt">stationID =</span> <span class="kw">c</span>(<span class="st">"234253"</span>, <span class="st">"234174"</span>, <span class="st">"234305"</span>))
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/plot">plot</a></span>(y[[<span class="dv">1</span>]], <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">max</span>(y[[<span class="dv">1</span>]], y[[<span class="dv">2</span>]], y[[<span class="dv">3</span>]])), 
     <span class="dt">xlab =</span> <span class="st">""</span>, <span class="dt">ylab =</span> <span class="st">"Water level [m]"</span>)
<span class="kw">lines</span>(y[[<span class="dv">2</span>]], <span class="dt">col =</span> <span class="st">"red"</span>)
<span class="kw">lines</span>(y[[<span class="dv">3</span>]], <span class="dt">col =</span> <span class="st">"blue"</span>)</code></pre></div>
<div class="figure">
<img src="sepa.png">
</div>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#introduction">Introduction</a><ul class="nav nav-pills nav-stacked">
<li><a href="#dependencies-installation">Dependencies &amp; Installation</a></li>
      <li><a href="#data-sources-and-functions">Data sources and Functions</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Claudia Vitolo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
